import{r as u,S as M,j as e,L as Pe,R as Te}from"./app-CyxJLvEq.js";import{S as Re}from"./switch-CnN6dfTm.js";import{A as X}from"./arrow-left-jB_PJ20p.js";import{C as R}from"./circle-alert-BPfV-8nr.js";import{L as De}from"./loader-circle-BTrfU80T.js";import{C as le}from"./check-DEIm2C7q.js";import{M as Fe,S as Me}from"./sun-sNYqJswG.js";import{U as B}from"./user-DKKNaZ-d.js";import{P as J,M as qe}from"./phone-BLiUJe9s.js";import{P as ze}from"./palette-DiMc2Qu9.js";import{E as me}from"./eye-BLGYhTyn.js";import{c as Z}from"./createLucideIcon-BC5KCFBC.js";import{M as he}from"./mail-BGSldGCu.js";import{S as be}from"./smartphone-DKx7UiDU.js";import{G as pe}from"./globe-BIq93y1Q.js";import{I as je,L as fe,T as ve}from"./twitter-DBQqw8Jz.js";import{S as de}from"./sparkles-BaS10ba3.js";import{C as Ie}from"./circle-check-big-DSPtIjYn.js";import{A as Oe}from"./arrow-right-Cy8qqFcF.js";import"./index-C1-QZkgV.js";import"./utils-jAU0Cazi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],H=Z("Building2",Le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xe=Z("ShieldCheck",Ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ge=Z("Upload",Ve),_e=({className:t="",darkMode:l=!1,...i})=>e.jsx("input",{className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${l?"border-gray-600 bg-gray-800 text-white placeholder-gray-400":"border-gray-300 bg-white text-gray-900"} ${t}`,...i}),I=({className:t="",children:l,darkMode:i=!1,...g})=>e.jsx("label",{className:`block text-sm font-medium mb-1 ${i?"text-gray-200":"text-gray-700"} ${t}`,...g,children:l}),P=({variant:t="default",size:l="default",className:i="",disabled:g=!1,children:a,darkMode:c=!1,...E})=>{const D="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",$={default:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",outline:c?"border border-gray-600 bg-gray-800 text-gray-200 hover:bg-gray-700 focus:ring-blue-500":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},y={sm:"px-3 py-1.5 text-sm",default:"px-4 py-2",lg:"px-6 py-3 text-lg"};return e.jsx("button",{className:`${D} ${$[t]} ${y[l]} ${i}`,disabled:g,...E,children:a})},Be=({className:t="",children:l,darkMode:i=!1,...g})=>e.jsx("div",{className:`rounded-lg border shadow-sm ${i?"bg-gray-900 border-gray-700":"bg-white border-gray-200"} ${t}`,...g,children:l}),q=({variant:t="default",className:l="",children:i,darkMode:g=!1,...a})=>{const c={default:g?"bg-blue-900/20 border-blue-700 text-blue-300":"bg-blue-50 border-blue-200 text-blue-800",destructive:g?"bg-red-900/20 border-red-700 text-red-300":"bg-red-50 border-red-200 text-red-800"};return e.jsx("div",{className:`p-4 rounded-md border ${c[t]} ${l}`,...a,children:i})},z=({className:t="",children:l,...i})=>e.jsx("div",{className:`text-sm ${t}`,...i,children:l}),ue=({card:t,preview:l=!1,darkMode:i=!1})=>{const g={blue:"from-blue-500 to-blue-600",green:"from-emerald-500 to-green-600",purple:"from-purple-500 to-violet-600",pink:"from-pink-500 to-rose-600",orange:"from-orange-500 to-amber-600",dark:"from-gray-800 to-slate-800"},a=g[t.color_theme]||g.blue;return e.jsx("div",{className:"w-full max-w-sm mx-auto",children:e.jsxs("div",{className:`bg-gradient-to-br ${a} rounded-xl p-4 sm:p-6 text-white shadow-xl`,children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[t.profile_picture?e.jsx("img",{src:t.profile_picture,alt:t.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full object-cover border-2 border-white/20"}):e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(B,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white/80"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold truncate",children:t.name||"Seu Nome"}),t.job_title&&e.jsx("p",{className:"text-white/90 text-xs sm:text-sm",children:t.job_title}),t.company&&e.jsx("p",{className:"text-white/80 text-xs",children:t.company})]}),t.logo&&e.jsx("img",{src:t.logo,alt:"Logo",className:"w-10 h-10 sm:w-12 sm:h-12 rounded object-contain bg-white/10 p-1"})]}),e.jsxs("div",{className:"mt-3 sm:mt-4 space-y-1 sm:space-y-2",children:[t.email&&e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(he,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:t.email})]}),t.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(J,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:t.phone})]}),t.whatsapp&&e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(be,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:t.whatsapp})]}),t.website&&e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(pe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:t.website})]})]}),(t.instagram||t.linkedin||t.twitter)&&e.jsxs("div",{className:"mt-2 sm:mt-3 flex gap-2 sm:gap-3",children:[t.instagram&&e.jsx(je,{className:"w-3 h-3 sm:w-4 sm:h-4"}),t.linkedin&&e.jsx(fe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),t.twitter&&e.jsx(ve,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]})})},We=t=>{window.location.href=t},Ge=async(t,l,i="POST")=>{var g;try{let a=(g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content");a||(a=(await(await fetch("/csrf-token")).json()).token);const c=await fetch(t,{method:i,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":a,Accept:"application/json"},body:JSON.stringify(l)});return c.ok?{success:!0}:{success:!1,errors:(await c.json()).errors||{}}}catch(a){return{success:!1,errors:{general:a.message}}}},w=({name:t,label:l,icon:i,required:g=!1,type:a="text",placeholder:c,value:E,onChange:D,error:$,darkMode:y=!1,...O})=>{const x=["name","color_theme","activation_code"].includes(t);return e.jsxs("div",{children:[e.jsxs(I,{htmlFor:t,className:"text-sm font-medium flex items-center gap-1",darkMode:y,children:[i&&e.jsx(i,{className:"w-4 h-4"}),l,g&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(_e,{id:t,name:t,type:a,value:E,onChange:D,placeholder:c,darkMode:y,className:`${$&&x?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`,...O}),$&&x&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx(R,{className:"w-4 h-4 text-red-500"})})]}),$&&x&&e.jsxs("p",{className:"text-sm text-red-600 mt-1 flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),$]})]})},us=({activation_code:t,is_purchase_flow:l=!1,edit_mode:i=!1,card_id:g,prefill:a})=>{var ce;console.log("=== COMPONENT PROPS DEBUG ==="),console.log("edit_mode:",i),console.log("card_id:",g),console.log("prefill data:",a),console.log("prefill keys:",a?Object.keys(a):"null"),console.log("=============================");const[c,E]=u.useState(1),[D,$]=u.useState(!1),[y,O]=u.useState(!1),[x,T]=u.useState({}),[L,k]=u.useState(""),[Q,ye]=u.useState(""),[s,Ne]=u.useState(!1),[U,Y]=u.useState({profile:!1,logo:!1}),ee=u.useRef(null),se=u.useRef(null);u.useEffect(()=>{s?(document.documentElement.classList.add("dark"),document.documentElement.style.setProperty("--dark-bg","#020818"),document.documentElement.style.setProperty("--dark-text","#ae9efd")):document.documentElement.classList.remove("dark")},[s]);const[o,F]=u.useState({name:(a==null?void 0:a.name)||"",job_title:(a==null?void 0:a.job_title)||"",company:(a==null?void 0:a.company)||"",email:(a==null?void 0:a.email)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",website:(a==null?void 0:a.website)||"",location:(a==null?void 0:a.location)||"",bio:(a==null?void 0:a.bio)||"",instagram:(a==null?void 0:a.instagram)||"",linkedin:(a==null?void 0:a.linkedin)||"",twitter:(a==null?void 0:a.twitter)||"",facebook:(a==null?void 0:a.facebook)||"",profile_picture:(a==null?void 0:a.profile_picture)||"",logo:(a==null?void 0:a.logo)||"",color_theme:(a==null?void 0:a.color_theme)||"blue",activation_code:"",request_id:(a==null?void 0:a.request_id)||null});u.useEffect(()=>{a&&i&&(console.log("Updating form with prefill data:",a),F({name:a.name||"",job_title:a.job_title||"",company:a.company||"",email:a.email||"",phone:a.phone||"",whatsapp:a.whatsapp||"",website:a.website||"",location:a.location||"",bio:a.bio||"",instagram:a.instagram||"",linkedin:a.linkedin||"",twitter:a.twitter||"",facebook:a.facebook||"",profile_picture:a.profile_picture||"",logo:a.logo||"",color_theme:a.color_theme||"blue",activation_code:"",request_id:a.request_id||null}))},[a,i]);const ae=[{value:"blue",name:"Azul Profissional",gradient:"from-blue-500 to-blue-600"},{value:"green",name:"Verde Natureza",gradient:"from-emerald-500 to-green-600"},{value:"purple",name:"Roxo Criativo",gradient:"from-purple-500 to-violet-600"},{value:"pink",name:"Rosa Moderno",gradient:"from-pink-500 to-rose-600"},{value:"orange",name:"Laranja Energia",gradient:"from-orange-500 to-amber-600"},{value:"dark",name:"Escuro Elegante",gradient:"from-gray-800 to-slate-800"}],W=[{number:1,title:"Informações Básicas",icon:B},{number:2,title:"Contato & Social",icon:J},{number:3,title:"Visual & Estilo",icon:ze},{number:4,title:"Revisão Final",icon:me}],j=(r,n="info")=>{n==="success"?console.log(`✅ ${r}`):n==="error"?console.error(`❌ ${r}`):n==="warning"?console.warn(`⚠️ ${r}`):console.info(`ℹ️ ${r}`)},f=u.useCallback(r=>{const{name:n,value:v}=r.target;F(N=>({...N,[n]:v})),x[n]&&T(N=>({...N,[n]:null}))},[x]),V=u.useCallback((r,n)=>{switch(r){case"name":return n.trim()?null:"Nome é obrigatório";case"color_theme":return n?null:"Tema de cor é obrigatório";case"activation_code":return!i&&l&&!t&&!n.trim()?"Código de ativação é obrigatório":null;default:return null}},[l,t,i]),te=u.useCallback(()=>{const r={};switch(c){case 1:const n=V("name",o.name);n&&(r.name=n);break;case 2:o.email.trim()||o.phone.trim()||o.whatsapp.trim()||(r.contact="Pelo menos um meio de contato é obrigatório (email, telefone ou WhatsApp)");break;case 3:const N=V("color_theme",o.color_theme);N&&(r.color_theme=N);break;case 4:if(!i&&l&&!t){const p=V("activation_code",o.activation_code);p&&(r.activation_code=p)}break}return r},[c,o,V,l,t,i]),we=u.useCallback(()=>{T({}),k("");const r=te();if(Object.keys(r).length>0){if(T(r),c===1){const n="❌ Por favor, preencha o nome para continuar.";k(n),j(n,"warning")}else if(c===2){const n="❌ Por favor, preencha pelo menos um meio de contato.";k(n),j(n,"warning")}else if(c===3){const n="❌ Por favor, escolha um tema de cor.";k(n),j(n,"warning")}else if(c===4){const n="❌ Por favor, digite o código de ativação.";k(n),j(n,"warning")}return}c<4&&(E(c+1),j(`✅ Passo ${c+1} completado!`,"success"))},[c,te,j]),ke=u.useCallback(()=>{k(""),c>1&&E(c-1)},[c]),re=u.useCallback(async r=>{var N,p,S,A;if(r.preventDefault(),y)return;const n={};if(o.name.trim()||(n.name="Nome é obrigatório"),!o.email.trim()&&!o.phone.trim()&&!o.whatsapp.trim()&&(n.contact="Pelo menos um meio de contato é obrigatório"),o.color_theme||(n.color_theme="Tema de cor é obrigatório"),!i&&l&&!t&&!o.activation_code.trim()&&(n.activation_code="Código de ativação é obrigatório"),Object.keys(n).length>0){T(n),k("❌ Por favor, preencha os campos obrigatórios.");return}O(!0),k("");const v={...o,activation_code:!i&&l?t||o.activation_code||null:void 0};if(Object.keys(v).forEach(m=>{v[m]===void 0&&delete v[m]}),console.log("Submitting:",i?"EDIT":"CREATE"),console.log("Card ID:",g),console.log("Data:",v),i&&g){const m=await Ge(`/client/cards/${g}`,v,"PUT");if(m.success)j("✅ Cartão atualizado com sucesso!","success"),M.visit("/client/dashboard");else{console.error("Update errors:",m.errors),T(m.errors);let h="❌ Erro ao atualizar cartão.";m.errors.contact?h="❌ "+(Array.isArray(m.errors.contact)?m.errors.contact[0]:m.errors.contact):m.errors.general&&(h="❌ "+(Array.isArray(m.errors.general)?m.errors.general[0]:m.errors.general)),k(h)}}else try{let m=(N=document.querySelector('meta[name="csrf-token"]'))==null?void 0:N.getAttribute("content");m||(m=(await(await fetch("/csrf-token")).json()).token);const h=await fetch("/cards/create-client",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":m,Accept:"application/json"},body:JSON.stringify(v)});if(h.ok){const b=await h.json();console.log("SUCCESS! Full backend response:",b);const{success:C,message:Se,card:d,payment:G,redirect_url:_,dashboard_url:K}=b;console.log("Received card data:",{cardId:d==null?void 0:d.id,cardCode:d==null?void 0:d.code,cardSlug:d==null?void 0:d.unique_slug,cardName:d==null?void 0:d.name,publicUrl:d==null?void 0:d.public_url,shortUrl:d==null?void 0:d.short_url,paymentPlan:G==null?void 0:G.plan,redirectUrl:_}),ye(Se||"✅ Cartão criado com sucesso!"),d&&F(Ae=>({...Ae,created_card_id:d.id,created_card_code:d.code,created_card_slug:d.unique_slug})),_?(console.log("Redirecting to:",_),window.location.href=_):d&&d.unique_slug?(console.log("Using Inertia router to:",`/card-success/${d.unique_slug}`),M.visit(`/card-success/${d.unique_slug}`,{replace:!0})):K?(console.log("Fallback to dashboard:",K),M.visit(K)):(console.log("Final fallback to client dashboard"),M.visit("/client/dashboard"))}else{const b=await h.json();console.error("API Error Response:",{status:h.status,statusText:h.statusText,errorData:b}),T(b.errors||{});let C="❌ Erro ao criar cartão.";(p=b.errors)!=null&&p.activation_code?C="❌ "+(Array.isArray(b.errors.activation_code)?b.errors.activation_code[0]:b.errors.activation_code):(S=b.errors)!=null&&S.general?C="❌ "+(Array.isArray(b.errors.general)?b.errors.general[0]:b.errors.general):(A=b.errors)!=null&&A.contact?C="❌ "+(Array.isArray(b.errors.contact)?b.errors.contact[0]:b.errors.contact):b.message?C="❌ "+b.message:h.status===422?C="❌ Dados inválidos. Verifique os campos obrigatórios.":h.status===401?C="❌ Sessão expirada. Faça login novamente.":h.status===403?C="❌ Acesso negado. Verifique suas permissões.":h.status>=500&&(C="❌ Erro interno do servidor. Tente novamente."),k(C)}}catch(m){console.error("Network/Parse error:",m);let h="❌ Erro de conexão.";m.name==="SyntaxError"?h="❌ Erro ao processar resposta do servidor.":m.message.includes("fetch")?h="❌ Falha na conexão. Verifique sua internet.":h="❌ Erro inesperado. Tente novamente.",k(h+" Tente novamente.")}O(!1)},[o,y,l,t,i,g,M,j]),oe=u.useCallback(async(r,n)=>{var N;if(!r)return;Y(p=>({...p,[n]:!0})),j("📤 Enviando imagem...","info");const v=new FormData;v.append("file",r),v.append("type",n);try{let p=(N=document.querySelector('meta[name="csrf-token"]'))==null?void 0:N.getAttribute("content");if(!p){const m=document.cookie.split(";").find(h=>h.trim().startsWith("XSRF-TOKEN="));m&&(p=decodeURIComponent(m.split("=")[1]))}if(p||(p=(await(await fetch("/csrf-token")).json()).token),!p)throw new Error("Could not obtain CSRF token");const S=await fetch("/upload-image",{method:"POST",body:v,headers:{"X-CSRF-TOKEN":p}});if(S.status===419)throw new Error("CSRF token mismatch. Please refresh the page and try again.");if(S.ok){const A=await S.json();F(m=>({...m,[n==="profile"?"profile_picture":"logo"]:A.url})),j("✅ Imagem enviada com sucesso!","success")}else{const A=await S.json().catch(()=>({}));throw new Error(A.message||`Upload failed with status ${S.status}`)}}catch(p){console.error("Upload error:",p),p.message.includes("CSRF")?j("❌ Sessão expirada. Recarregue a página e tente novamente.","error"):j("❌ Erro no upload. Tente novamente.","error")}finally{Y(p=>({...p,[n]:!1}))}},[j]),ne=u.useCallback(r=>{F(n=>({...n,[r==="profile"?"profile_picture":"logo"]:""}))},[]),Ce=u.useCallback(r=>{F(n=>({...n,color_theme:r})),x.color_theme&&T(n=>({...n,color_theme:null}))},[x.color_theme]),$e=i?"Editar Cartão Digital":"Criar Meu Cartão Digital",Ee=i?"Atualize as informações do seu cartão":l?"Ative seu cartão premium":"Crie seu cartão digital personalizado",ie=i?"Atualizar Cartão":l?"Ativar Cartão Premium":"Finalizar Cartão";return D?e.jsx("div",{className:`min-h-screen py-6 sm:py-8 px-4 transition-all duration-300 ${s?"dark":""}`,style:s?{backgroundColor:"#020818",color:"#ae9efd"}:{backgroundColor:"#ffffff",color:"#1f2937"},children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(P,{variant:"outline",onClick:()=>$(!1),className:"flex items-center gap-2",darkMode:s,children:[e.jsx(X,{className:"w-4 h-4"}),"Voltar à Edição"]}),e.jsx("h1",{className:`text-xl font-bold ${s?"text-white":"text-gray-900"}`,children:"Prévia do Cartão"})]}),e.jsx(ue,{card:o,preview:!0,darkMode:s}),e.jsxs("div",{className:"mt-6 space-y-3",children:[L&&e.jsxs(q,{variant:"destructive",darkMode:s,children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx(z,{children:L})]}),e.jsx(P,{onClick:re,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3",disabled:y,darkMode:s,children:y?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-5 h-5 mr-2 animate-spin"}),i?"Atualizando...":"Criando Cartão..."]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"w-5 h-5 mr-2"}),ie]})})]})]})}):e.jsxs("div",{className:`min-h-screen py-6 sm:py-8 px-4 transition-all duration-300 ${s?"dark":""}`,style:s?{backgroundColor:"#020818",color:"#ae9efd"}:{backgroundColor:"#ffffff",color:"#1f2937"},children:[e.jsx(Pe,{title:$e}),e.jsxs("div",{className:"max-w-5xl mx-auto mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-4 sm:mb-6 gap-4",children:[e.jsxs("button",{onClick:()=>We(i?"/client/dashboard":"/"),className:`flex items-center gap-2 text-sm transition-colors ${s?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(X,{className:"w-4 h-4"}),i?"Voltar ao Dashboard":"Voltar ao Início"]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"DigitalCard"}),e.jsx("p",{className:`text-xs sm:text-sm ${s?"text-gray-300":"text-gray-600"}`,children:Ee})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full p-2 shadow-lg",children:[e.jsx(Re,{checked:s,onCheckedChange:Ne,className:"data-[state=checked]:bg-purple-600 scale-75 sm:scale-100"}),s?e.jsx(Fe,{className:"w-3 h-3 sm:w-4 sm:h-4"}):e.jsx(Me,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]}),L&&e.jsxs(q,{variant:"destructive",className:"mb-6",darkMode:s,children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx(z,{children:L})]}),Q&&e.jsxs(q,{className:`mb-6 ${s?"border-green-700 bg-green-900/20 text-green-300":"border-green-200 bg-green-50 text-green-800"}`,darkMode:s,children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx(z,{children:Q})]}),e.jsx("div",{className:"flex items-center justify-center mb-6 sm:mb-8",children:e.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:W.map((r,n)=>e.jsxs(Te.Fragment,{children:[e.jsxs("div",{className:`flex items-center gap-2 px-2 sm:px-3 py-2 rounded-full text-xs sm:text-sm font-medium transition-all ${r.number===c?s?"bg-blue-900/30 text-blue-300":"bg-blue-100 text-blue-700":r.number<c?s?"bg-green-900/30 text-green-300":"bg-green-100 text-green-700":s?"bg-gray-800 text-gray-400":"bg-gray-100 text-gray-500"}`,children:[e.jsx(r.icon,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:r.title}),e.jsx("span",{className:"sm:hidden",children:r.number})]}),n<W.length-1&&e.jsx("div",{className:`w-4 sm:w-8 h-0.5 ${r.number<c?"bg-green-300":s?"bg-gray-700":"bg-gray-200"}`})]},r.number))})})]}),e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 sm:gap-8",children:[e.jsx(Be,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",darkMode:s,children:e.jsxs("form",{onSubmit:re,className:"space-y-4 sm:space-y-6",children:[c===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:`text-lg sm:text-xl font-semibold mb-2 ${s?"text-white":"text-gray-900"}`,children:"Informações Básicas"}),e.jsx("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:i?"Atualize suas informações principais":"Vamos começar com suas informações principais"})]}),e.jsx(w,{name:"name",label:"Nome Completo",icon:B,placeholder:"Seu nome completo",required:!0,value:o.name,onChange:f,error:x.name,darkMode:s}),e.jsx(w,{name:"job_title",label:"Cargo/Profissão",icon:H,placeholder:"Ex: Desenvolvedor, Designer, CEO",value:o.job_title,onChange:f,error:x.job_title,darkMode:s}),e.jsx(w,{name:"company",label:"Empresa",icon:H,placeholder:"Nome da sua empresa",value:o.company,onChange:f,error:x.company,darkMode:s}),e.jsxs("div",{children:[e.jsx(I,{htmlFor:"bio",className:"text-sm font-medium",darkMode:s,children:"Descrição (Opcional)"}),e.jsx("textarea",{id:"bio",name:"bio",value:o.bio,onChange:f,placeholder:"Uma breve descrição sobre você ou seu trabalho...",className:`w-full mt-1 p-3 border rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${s?"border-gray-600 bg-gray-800 text-white placeholder-gray-400":"border-gray-300 bg-white text-gray-900"}`,rows:3,maxLength:150}),e.jsxs("p",{className:`text-xs mt-1 ${s?"text-gray-400":"text-gray-500"}`,children:[o.bio.length,"/150 caracteres"]})]})]}),c===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:`text-lg sm:text-xl font-semibold mb-2 ${s?"text-white":"text-gray-900"}`,children:"Contato & Redes Sociais"}),e.jsx("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:"Como as pessoas podem entrar em contato com você"})]}),x.contact&&e.jsxs(q,{variant:"destructive",className:"mb-4",darkMode:s,children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx(z,{children:x.contact})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(w,{name:"email",label:"E-mail",type:"email",icon:he,placeholder:"seu@email.com",value:o.email,onChange:f,error:x.email,darkMode:s}),e.jsx(w,{name:"phone",label:"Telefone",icon:J,placeholder:"(11) 99999-9999",value:o.phone,onChange:f,error:x.phone,darkMode:s})]}),e.jsx(w,{name:"whatsapp",label:"WhatsApp",icon:be,placeholder:"(11) 99999-9999",value:o.whatsapp,onChange:f,error:x.whatsapp,darkMode:s}),e.jsx(w,{name:"website",label:"Website",icon:pe,placeholder:"https://seusite.com",value:o.website,onChange:f,error:x.website,darkMode:s}),e.jsx(w,{name:"location",label:"Localização",icon:qe,placeholder:"São Paulo, SP",value:o.location,onChange:f,error:x.location,darkMode:s}),e.jsxs("div",{className:`pt-4 border-t ${s?"border-gray-700":"border-gray-200"}`,children:[e.jsx("h3",{className:`text-sm font-medium mb-3 ${s?"text-gray-200":"text-gray-700"}`,children:"Redes Sociais (Opcional)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(w,{name:"instagram",label:"Instagram",icon:je,placeholder:"@seuusuario",value:o.instagram,onChange:f,error:x.instagram,darkMode:s}),e.jsx(w,{name:"linkedin",label:"LinkedIn",icon:fe,placeholder:"linkedin.com/in/seuusuario",value:o.linkedin,onChange:f,error:x.linkedin,darkMode:s}),e.jsx(w,{name:"twitter",label:"Twitter",icon:ve,placeholder:"@seuusuario",value:o.twitter,onChange:f,error:x.twitter,darkMode:s})]})]})]}),c===3&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:`text-lg sm:text-xl font-semibold mb-2 ${s?"text-white":"text-gray-900"}`,children:"Visual & Estilo"}),e.jsx("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:"Personalize a aparência do seu cartão"})]}),e.jsxs("div",{children:[e.jsx(I,{className:"text-sm font-medium mb-3 block",darkMode:s,children:"Foto de Perfil"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed relative ${s?"bg-gray-800 border-gray-600":"bg-gray-100 border-gray-300"}`,children:o.profile_picture?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>ne("profile"),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:"×"})]}):e.jsx(B,{className:`w-6 h-6 sm:w-8 sm:h-8 ${s?"text-gray-600":"text-gray-400"}`})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("input",{ref:ee,type:"file",accept:"image/*",onChange:r=>{var n;return((n=r.target.files)==null?void 0:n[0])&&oe(r.target.files[0],"profile")},className:"hidden"}),e.jsxs(P,{type:"button",variant:"outline",size:"sm",onClick:()=>{var r;return(r=ee.current)==null?void 0:r.click()},disabled:U.profile,darkMode:s,children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),U.profile?"Enviando...":"Enviar Foto"]})]})]})]}),e.jsxs("div",{children:[e.jsx(I,{className:"text-sm font-medium mb-3 block",darkMode:s,children:"Logo da Empresa (Opcional)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed relative ${s?"bg-gray-800 border-gray-600":"bg-gray-100 border-gray-300"}`,children:o.logo?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.logo,alt:"Logo",className:"w-full h-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>ne("logo"),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:"×"})]}):e.jsx(H,{className:`w-6 h-6 sm:w-8 sm:h-8 ${s?"text-gray-600":"text-gray-400"}`})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("input",{ref:se,type:"file",accept:"image/*",onChange:r=>{var n;return((n=r.target.files)==null?void 0:n[0])&&oe(r.target.files[0],"logo")},className:"hidden"}),e.jsxs(P,{type:"button",variant:"outline",size:"sm",onClick:()=>{var r;return(r=se.current)==null?void 0:r.click()},disabled:U.logo,darkMode:s,children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),U.logo?"Enviando...":"Enviar Logo"]})]})]})]}),e.jsxs("div",{children:[e.jsxs(I,{className:"text-sm font-medium mb-3 block flex items-center gap-1",darkMode:s,children:["Tema de Cores",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:ae.map(r=>e.jsxs("button",{type:"button",onClick:()=>Ce(r.value),className:`p-3 rounded-lg border-2 transition-all ${o.color_theme===r.value?s?"border-blue-500 bg-blue-900/20":"border-blue-500 bg-blue-50":s?"border-gray-600 hover:border-gray-500":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:`w-full h-6 sm:h-8 rounded-md bg-gradient-to-r ${r.gradient} mb-2`}),e.jsx("p",{className:`text-xs font-medium ${s?"text-gray-200":"text-gray-700"}`,children:r.name})]},r.value))}),x.color_theme&&e.jsxs("p",{className:"text-sm text-red-600 mt-1 flex items-center gap-1",children:[e.jsx(R,{className:"w-3 h-3"}),x.color_theme]})]})]}),c===4&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:`text-lg sm:text-xl font-semibold mb-2 ${s?"text-white":"text-gray-900"}`,children:i?"Confirmar Alterações":"Revisão Final"}),e.jsx("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:i?"Verifique as alterações antes de salvar":l?"Ative seu cartão premium com o código de compra":"Verifique suas informações antes de criar o cartão"})]}),!i&&l&&t&&e.jsxs("div",{className:`rounded-lg p-4 ${s?"bg-green-900/20 border border-green-700":"bg-green-50 border border-green-200"}`,children:[e.jsxs("div",{className:`flex items-center gap-3 ${s?"text-green-300":"text-green-700"}`,children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${s?"bg-green-800":"bg-green-100"}`,children:e.jsx(xe,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Código de Ativação Confirmado"}),e.jsxs("p",{className:`text-sm mt-1 ${s?"text-green-400":"text-green-600"}`,children:["Código: ",e.jsx("span",{className:"font-mono font-bold",children:t})]})]})]}),e.jsx("p",{className:`text-xs mt-3 ml-11 ${s?"text-green-400":"text-green-600"}`,children:"✅ Seu cartão premium será ativado automaticamente"})]}),!i&&l&&!t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(q,{className:`${s?"border-amber-700 bg-amber-900/20 text-amber-300":"border-amber-200 bg-amber-50 text-amber-800"}`,darkMode:s,children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx(z,{children:"Para ativar seu cartão premium, digite o código de ativação que você recebeu por email após a compra."})]}),e.jsx(w,{name:"activation_code",label:"Código de Ativação",icon:xe,placeholder:"Digite seu código de ativação",required:!0,value:o.activation_code,onChange:f,error:x.activation_code,darkMode:s})]}),e.jsxs("div",{className:`rounded-lg p-4 ${s?"bg-gray-800":"bg-gray-50"}`,children:[e.jsx("h3",{className:`font-medium mb-3 ${s?"text-white":"text-gray-900"}`,children:i?"Suas alterações:":"Resumo das suas informações:"}),e.jsxs("div",{className:`space-y-2 text-sm ${s?"text-gray-300":"text-gray-700"}`,children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Nome:"})," ",o.name||"Não informado"]}),o.job_title&&e.jsxs("div",{children:[e.jsx("strong",{children:"Cargo:"})," ",o.job_title]}),o.company&&e.jsxs("div",{children:[e.jsx("strong",{children:"Empresa:"})," ",o.company]}),o.email&&e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",o.email]}),o.phone&&e.jsxs("div",{children:[e.jsx("strong",{children:"Telefone:"})," ",o.phone]}),o.whatsapp&&e.jsxs("div",{children:[e.jsx("strong",{children:"WhatsApp:"})," ",o.whatsapp]}),o.website&&e.jsxs("div",{children:[e.jsx("strong",{children:"Website:"})," ",o.website]}),o.location&&e.jsxs("div",{children:[e.jsx("strong",{children:"Localização:"})," ",o.location]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Tema:"})," ",(ce=ae.find(r=>r.value===o.color_theme))==null?void 0:ce.name]}),!i&&l&&e.jsxs("div",{className:`pt-2 border-t ${s?"border-gray-700":"border-gray-200"}`,children:[e.jsx("strong",{children:"Tipo:"})," ",e.jsx("span",{className:"text-blue-600 font-medium",children:"Cartão Premium"})]}),i&&e.jsxs("div",{className:`pt-2 border-t ${s?"border-gray-700":"border-gray-200"}`,children:[e.jsx("strong",{children:"Ação:"})," ",e.jsx("span",{className:"text-orange-600 font-medium",children:"Editando Cartão Existente"})]})]})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:`text-base sm:text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Prévia do Cartão"}),e.jsxs(P,{variant:"outline",size:"sm",onClick:()=>$(!0),className:"flex items-center gap-2",darkMode:s,children:[e.jsx(me,{className:"w-4 h-4"}),"Visualizar Completo"]})]}),e.jsxs("div",{className:"sticky top-4 sm:top-8",children:[e.jsx(ue,{card:o,preview:!0,darkMode:s}),!i&&l&&e.jsxs("div",{className:`mt-4 p-3 rounded-lg ${s?"bg-blue-900/20 border border-blue-700":"bg-blue-50 border border-blue-200"}`,children:[e.jsxs("div",{className:`flex items-center gap-2 text-sm ${s?"text-blue-300":"text-blue-700"}`,children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Cartão Premium"})]}),e.jsx("p",{className:`text-xs mt-1 ${s?"text-blue-400":"text-blue-600"}`,children:"Recursos avançados, analytics e suporte prioritário incluídos"})]}),i&&e.jsxs("div",{className:`mt-4 p-3 rounded-lg ${s?"bg-orange-900/20 border border-orange-700":"bg-orange-50 border border-orange-200"}`,children:[e.jsxs("div",{className:`flex items-center gap-2 text-sm ${s?"text-orange-300":"text-orange-700"}`,children:[e.jsx(Ie,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Modo de Edição"})]}),e.jsx("p",{className:`text-xs mt-1 ${s?"text-orange-400":"text-orange-600"}`,children:"Alterações serão salvas no cartão existente"})]})]})]})]}),e.jsxs("div",{className:`flex items-center justify-between mt-6 sm:mt-8 pt-4 sm:pt-6 border-t ${s?"border-gray-700":"border-gray-200"}`,children:[e.jsxs(P,{type:"button",variant:"outline",onClick:ke,disabled:c===1||y,className:"flex items-center gap-2",darkMode:s,children:[e.jsx(X,{className:"w-4 h-4"}),"Anterior"]}),e.jsxs("div",{className:`flex items-center gap-2 text-sm ${s?"text-gray-400":"text-gray-500"}`,children:["Passo ",c," de ",W.length]}),c<4?e.jsxs(P,{type:"button",onClick:we,disabled:y,className:"flex items-center gap-2",darkMode:s,children:["Próximo",e.jsx(Oe,{className:"w-4 h-4"})]}):e.jsxs(P,{onClick:()=>$(!0),disabled:y,className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white flex items-center gap-2",darkMode:s,children:[e.jsx(de,{className:"w-4 h-4"}),ie]})]}),!i&&l&&c===4&&!t&&e.jsxs("div",{className:`mt-6 sm:mt-8 p-4 rounded-lg ${s?"bg-gray-800":"bg-gray-50"}`,children:[e.jsx("h4",{className:`font-medium mb-2 ${s?"text-white":"text-gray-900"}`,children:"Não encontrou seu código de ativação?"}),e.jsxs("div",{className:`text-sm space-y-1 ${s?"text-gray-300":"text-gray-600"}`,children:[e.jsx("p",{children:"• Verifique sua caixa de entrada e spam no email cadastrado"}),e.jsx("p",{children:"• O código possui 6 caracteres (ex: ABC123)"}),e.jsx("p",{children:"• Entre em contato conosco se não recebeu: suporte@digitalcard.com.br"})]})]}),i&&e.jsxs("div",{className:`mt-6 sm:mt-8 p-4 rounded-lg ${s?"bg-blue-900/20 border border-blue-700":"bg-blue-50 border border-blue-200"}`,children:[e.jsx("h4",{className:`font-medium mb-2 ${s?"text-blue-300":"text-blue-900"}`,children:"💡 Dicas para edição"}),e.jsxs("div",{className:`text-sm space-y-1 ${s?"text-blue-200":"text-blue-700"}`,children:[e.jsx("p",{children:"• Todas as alterações serão salvas no cartão existente"}),e.jsx("p",{children:"• O link do seu cartão permanecerá o mesmo"}),e.jsx("p",{children:"• As alterações aparecerão imediatamente para quem acessar seu cartão"})]})]})]})]})};export{us as default};

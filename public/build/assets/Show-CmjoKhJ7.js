import{r as o,j as e,K as F,L as I,S as U}from"./app-CyxJLvEq.js";import{B as M}from"./button-CqV8ksUr.js";import{C as x,c as m,a as j,b as g}from"./card-BNIH3Pud.js";import{B as N}from"./badge-StFwuwMu.js";import{T as D,a as z,b as C,c as u,d as V,e as p}from"./table-D5Gt53Mz.js";import{c as P,d as H,b as _}from"./index-B2CxUIcs.js";import{P as k}from"./index-fYyqQwJ9.js";import{c as A}from"./utils-jAU0Cazi.js";import{A as $}from"./admin-layouts-C_-6wHD8.js";import{A as q}from"./arrow-left-jB_PJ20p.js";import{C as f}from"./credit-card-4iYNl23j.js";import{E as v}from"./eye-BLGYhTyn.js";import{C as K}from"./calendar-CH-uir-h.js";import{T as G}from"./trending-up-Dr5LNWGJ.js";import{U as J}from"./user-DKKNaZ-d.js";import{S as O}from"./shield-CF6SlGSV.js";import{C as y}from"./circle-check-big-DSPtIjYn.js";import{C as Q}from"./circle-alert-BPfV-8nr.js";import{C as W}from"./clock-BH8vRCkV.js";import"./index-C1-QZkgV.js";import"./input-gOr3B0Id.js";import"./x-DL39Suzq.js";import"./createLucideIcon-BC5KCFBC.js";import"./chart-column-Cxs-ItVH.js";import"./settings-D-KavAww.js";import"./AnimatedBackground-BHLy8l2X.js";import"./sun-sNYqJswG.js";var w="Avatar",[X,Ee]=P(w),[Y,S]=X(w),L=o.forwardRef((a,t)=>{const{__scopeAvatar:d,...r}=a,[i,l]=o.useState("idle");return e.jsx(Y,{scope:d,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:e.jsx(k.span,{...r,ref:t})})});L.displayName=w;var T="AvatarImage",Z=o.forwardRef((a,t)=>{const{__scopeAvatar:d,src:r,onLoadingStatusChange:i=()=>{},...l}=a,c=S(T,d),n=ee(r,l.referrerPolicy),h=H(b=>{i(b),c.onImageLoadingStatusChange(b)});return _(()=>{n!=="idle"&&h(n)},[n,h]),n==="loaded"?e.jsx(k.img,{...l,ref:t,src:r}):null});Z.displayName=T;var B="AvatarFallback",E=o.forwardRef((a,t)=>{const{__scopeAvatar:d,delayMs:r,...i}=a,l=S(B,d),[c,n]=o.useState(r===void 0);return o.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>n(!0),r);return()=>window.clearTimeout(h)}},[r]),c&&l.imageLoadingStatus!=="loaded"?e.jsx(k.span,{...i,ref:t}):null});E.displayName=B;function ee(a,t){const[d,r]=o.useState("idle");return _(()=>{if(!a){r("error");return}let i=!0;const l=new window.Image,c=n=>()=>{i&&r(n)};return r("loading"),l.onload=c("loaded"),l.onerror=c("error"),l.src=a,t&&(l.referrerPolicy=t),()=>{i=!1}},[a,t]),d}var se=L,ae=E;function te({className:a,...t}){return e.jsx(se,{"data-slot":"avatar",className:A("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...t})}function re({className:a,...t}){return e.jsx(ae,{"data-slot":"avatar-fallback",className:A("bg-muted flex size-full items-center justify-center rounded-full",a),...t})}const Re=()=>{const{user:a,stats:t}=F().props,d=s=>s?new Date(s).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Nunca",r=s=>s?new Date(s).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"Nunca",i=s=>e.jsx(N,{variant:s==="activated"?"outline":"secondary",className:s==="activated"?"border-green-500 text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/20":"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-400",children:s==="activated"?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),"Ativo"]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-3 h-3 mr-1"}),"Pendente"]})}),l=s=>e.jsxs(N,{variant:s==="admin"?"destructive":"outline",className:s==="admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-400":"border-blue-500 text-blue-700 dark:text-blue-400",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),s==="admin"?"Administrador":"Usuário"]}),c=s=>e.jsx(N,{variant:s?"outline":"secondary",className:s?"border-green-500 text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/20":"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400",children:s?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),"Ativo"]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-3 h-3 mr-1"}),"Inativo"]})}),n=s=>s.split(" ").map(R=>R.charAt(0)).join("").toUpperCase().slice(0,2),h=s=>Math.floor((new Date().getTime()-new Date(s).getTime())/(1e3*60*60*24)),b=()=>{U.get("/admin/users")};return e.jsxs($,{children:[e.jsx(I,{title:`Usuário: ${a.name}`}),e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-[#020818] transition-colors duration-200",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs(M,{variant:"outline",size:"sm",onClick:b,className:"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Voltar aos Usuários"}),e.jsx("span",{className:"sm:hidden",children:"Voltar"})]}),e.jsx(x,{className:"bg-white dark:bg-slate-900/50 border-slate-200 dark:border-slate-700 shadow-lg",children:e.jsx(m,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx(te,{className:"h-16 w-16 sm:h-20 sm:w-20 mx-auto sm:mx-0 bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:e.jsx(re,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-lg sm:text-xl font-bold",children:n(a.name)})}),e.jsxs("div",{className:"flex-1 text-center sm:text-left space-y-2",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-slate-900 dark:text-[#ae9efd]",children:a.name}),e.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400",children:a.email}),e.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-2",children:[l(a.role),c(a.is_active)]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[e.jsxs(x,{className:"bg-white dark:bg-slate-900/50 border-slate-200 dark:border-slate-700 hover:shadow-lg transition-shadow",children:[e.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs(g,{className:"text-xs sm:text-sm font-medium text-slate-600 dark:text-slate-400",children:[e.jsx("span",{className:"hidden sm:inline",children:"Total de Cartões"}),e.jsx("span",{className:"sm:hidden",children:"Cartões"})]}),e.jsx(f,{className:"h-4 w-4 text-blue-500 dark:text-blue-400"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-slate-900 dark:text-[#ae9efd]",children:t.total_cards}),e.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 leading-tight",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:t.active_cards})," ativo",t.active_cards!==1?"s":"",", ",e.jsx("span",{className:"text-amber-600 dark:text-amber-400",children:t.pending_cards})," pendente",t.pending_cards!==1?"s":""]})]})]}),e.jsxs(x,{className:"bg-white dark:bg-slate-900/50 border-slate-200 dark:border-slate-700 hover:shadow-lg transition-shadow",children:[e.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs(g,{className:"text-xs sm:text-sm font-medium text-slate-600 dark:text-slate-400",children:[e.jsx("span",{className:"hidden sm:inline",children:"Total de Visualizações"}),e.jsx("span",{className:"sm:hidden",children:"Views"})]}),e.jsx(v,{className:"h-4 w-4 text-green-500 dark:text-green-400"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-slate-900 dark:text-[#ae9efd]",children:t.total_views}),e.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{className:"hidden sm:inline",children:[t.avg_views_per_card," média por cartão"]}),e.jsxs("span",{className:"sm:hidden",children:[t.avg_views_per_card," avg/cartão"]})]})]})]}),e.jsxs(x,{className:"bg-white dark:bg-slate-900/50 border-slate-200 dark:border-slate-700 hover:shadow-lg transition-shadow",children:[e.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs(g,{className:"text-xs sm:text-sm font-medium text-slate-600 dark:text-slate-400",children:[e.jsx("span",{className:"hidden sm:inline",children:"Membro desde"}),e.jsx("span",{className:"sm:hidden",children:"Membro"})]}),e.jsx(K,{className:"h-4 w-4 text-purple-500 dark:text-purple-400"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-base sm:text-lg font-bold text-slate-900 dark:text-[#ae9efd]",children:[e.jsx("span",{className:"hidden sm:inline",children:d(a.created_at).split(",")[0]}),e.jsx("span",{className:"sm:hidden",children:r(a.created_at)})]}),e.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400",children:[h(a.created_at)," dias atrás"]})]})]}),e.jsxs(x,{className:"col-span-2 lg:col-span-1 bg-white dark:bg-slate-900/50 border-slate-200 dark:border-slate-700 hover:shadow-lg transition-shadow",children:[e.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs(g,{className:"text-xs sm:text-sm font-medium text-slate-600 dark:text-slate-400",children:[e.jsx("span",{className:"hidden sm:inline",children:"Cartão Mais Visto"}),e.jsx("span",{className:"sm:hidden",children:"Top Cartão"})]}),e.jsx(G,{className:"h-4 w-4 text-orange-500 dark:text-orange-400"})]}),e.jsx(m,{children:t.most_viewed_card?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-base sm:text-lg font-bold text-slate-900 dark:text-[#ae9efd]",children:[t.most_viewed_card.click_count," visualizações"]}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:t.most_viewed_card.name})]}):e.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-500",children:"Nenhum cartão ainda"})})]})]}),e.jsxs(x,{className:"bg-white dark:bg-slate-900/50 border-slate-200 dark:border-slate-700 shadow-lg",children:[e.jsx(j,{children:e.jsxs(g,{className:"text-slate-900 dark:text-[#ae9efd] flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Informações do Usuário"]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Nome Completo"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-900 dark:text-[#ae9efd] font-medium mt-1",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Endereço de Email"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-900 dark:text-[#ae9efd] font-medium mt-1 break-all",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Função"}),e.jsx("div",{className:"mt-1",children:l(a.role)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Status da Conta"}),e.jsx("div",{className:"mt-1",children:c(a.is_active)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Criado em"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-900 dark:text-[#ae9efd] font-medium mt-1",children:d(a.created_at)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Última Atualização"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-900 dark:text-[#ae9efd] font-medium mt-1",children:d(a.updated_at)})]})]})]})})]}),e.jsxs(x,{className:"bg-white dark:bg-slate-900/50 border-slate-200 dark:border-slate-700 shadow-lg",children:[e.jsx(j,{children:e.jsxs(g,{className:"text-slate-900 dark:text-[#ae9efd] flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5"}),"Cartões do Usuário (",a.cards.length,")"]})}),e.jsx(m,{children:a.cards.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:hidden space-y-4",children:a.cards.map(s=>e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100 truncate",children:s.name}),s.email&&e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate",children:s.email})]}),i(s.status)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Visualizações:"}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(v,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:s.click_count||0})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Código:"}),e.jsx("div",{className:"mt-1",children:e.jsx("code",{className:"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded text-slate-900 dark:text-slate-100",children:s.unique_slug||s.code})})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Criado em: ",r(s.created_at)]})})]},s.id))}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs(D,{children:[e.jsx(z,{children:e.jsxs(C,{className:"border-slate-200 dark:border-slate-700",children:[e.jsx(u,{className:"text-slate-600 dark:text-slate-400",children:"Nome do Cartão"}),e.jsx(u,{className:"text-slate-600 dark:text-slate-400",children:"Status"}),e.jsx(u,{className:"text-slate-600 dark:text-slate-400",children:"Visualizações"}),e.jsx(u,{className:"text-slate-600 dark:text-slate-400",children:"Código"}),e.jsx(u,{className:"text-slate-600 dark:text-slate-400",children:"Criado"})]})}),e.jsx(V,{children:a.cards.map(s=>e.jsxs(C,{className:"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[e.jsx(p,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:s.name}),s.email&&e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.email})]})}),e.jsx(p,{children:i(s.status)}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:s.click_count||0})]})}),e.jsx(p,{children:e.jsx("code",{className:"text-xs bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded text-slate-900 dark:text-slate-100",children:s.unique_slug||s.code})}),e.jsx(p,{children:e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:r(s.created_at)})})]},s.id))})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"w-8 h-8 text-slate-400 dark:text-slate-500"})}),e.jsx("h3",{className:"text-lg font-medium mb-2 text-slate-900 dark:text-[#ae9efd]",children:"Nenhum Cartão Criado"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-sm mx-auto",children:"Este usuário ainda não criou nenhum cartão de visita."})]})})]})]})})]})};export{Re as default};
